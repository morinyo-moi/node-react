{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <title>Home | Sort My Car</title>

    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   
    <link rel="stylesheet" type="text/css" href="{% static '/css/slim-icons.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/owl.theme.default.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/justselect.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/jquery-ui.min.css' %}" />
    <link rel="stylesheet" type="text/css"  href="{% static '/css/bootstrap.css' %}">
    <link rel="stylesheet" type="text/css"  href="{% static '/css/style.css' %}">


    

    <!--[if lt IE 9]>
                <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
            <![endif]-->

            <!--[if IE 7]>     <html class="ie7"> <![endif]-->
            <!--[if IE 8]>     <html class="ie8"> <![endif]-->
            <!--[if IE 9]>     <html class="ie9"> <![endif]-->
            <!--[if !IE]>
    <html> <![endif]-->

</head>
<body>

    <div id="main-wrapper">

        <header class="bg-white py-1 shadow-sm bg-white site-header">
            <div class="container">
                <div class="row">
                    <nav class="navbar navbar-expand-lg navbar-light w-100">
                        <a class="navbar-brand" href="/"><img src="{% static '/images/logo-01.png' %}"></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item ">
                                    <a class="nav-link px-3 text-secondary" href="/">Home </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link px-3 text-secondary" href="{% url 'valuation' %}">Valuation</a>
                                </li>

                                <li class="nav-item active">
                                    <a class="nav-link px-3 text-secondary" href="{% url 'insurance' %}">Insurance</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link px-3 text-secondary" href="{% url 'aboutus' %}">About Us</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link px-3 text-secondary" href="tel:254739881818"><i class="bi bi-telephone"></i> +254 739 881818</a>
                                </li>

                            </ul>
                        </div>
                    </nav>
                </div>

            </div>

        </header>

        <div class="content-wrapper pt-2 pt-md-5">

            <div class="action-wrapper mb-4">
                <div class="container">
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="card mb-4 border-0">

                                <div class="card-header shadow-sm bg-white border-0 mb-4">
                                    <h4 class="d-block w-100 mb-1 text-center mb-4 text-secondary text-capitalize">Provide customer details</h4>
                                    <h6 class="d-block w-100 small text-center text-secondary">*Fill in all fields</h6>
                                </div>

                                <div class="card-body shadow-sm bg-white py-4">

                                    <form action="{% url 'details_summary' %}" method="POST">
                                       {% csrf_token %}
                                        <div class="form-outline mb-4">
                                            <label class="form-label mb-1" for="ownerNames">Full Name</label>
                                            <input required type="text" id="ownerNames" name="ownerNames" class=" inp form-control" />
                                            <span class="ownerNames d-none inp text-danger">A valid full name is required.</span>

                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label mb-1" for="emailAddress">Email Address</label>
                                            <input required type="email" id="emailAddress" name="email" class="inp form-control" />
                                            <span class="emailAddress d-none inp text-danger">A valid email address is required.</span>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label mb-1" for="phoneNumber">Phone Number</label>
                                            <input required type="tel"  id="phoneNumber" name="phone" class="inp form-control" />
                                            <span class="phoneNumber d-none inp text-danger">A valid phone number is required.</span>
                                            <span></span>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label mb-1" for="regNum">Vehicle Registration number</label>
                                            <input  required type="text" id="regNum" name="regNum" class="inp form-control" />
                                            <span class="regNum d-none inp text-danger">A valid registration is required.</span>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <label class="form-label mb-1" for="kraPIN">KRA PIN number (if not on logbook)</label>
                                            <input  type="text" id="kraPIN" name="kraPIN" class="form-control krap" />
                                            <span class="kraPIN d-none  text-danger">A valid KRA PIN number required.</span>
                                        </div>

                                        <div class="form-outline mb-4">
                                            <div class="start-date">
                                                <label class="w-100 mb-1">Select Start Date: </label>
                                                <input required type="date" value="" name="startDate" id="startDate"  class="form-control">
                                                <span class="datepicker d-none inp text-danger">A start date is required.</span>
                                            </div>
                                        </div>


                                        <div class="form-outline mb-4">
                                            <div class="Upload">
                                                <label class="w-100 mb-1">Upload a Copy/picture of your National ID</label>
                                                <input required type="file" name="natID"  id="natID" class="form-control">
                                                <span class="natID d-none inp text-danger">A copy of ID is required.</span>
                                            </div>
                                        </div>


                                        <div class="form-outline mb-4">
                                            <div class="Upload">
                                                <label class="w-100 mb-1">Upload a Copy/picture of Logbook</label>
                                                <input required type="file" name="logbook" id="logbook" class="form-control">
                                                 <span class="logbook d-none inp text-danger">A copy of logbook is required.</span>
                                            </div>
                                        </div>

                                        <button  type="submit" class="btn submitBtn btn-primary btn-block text-uppercase" value="submit">Submit</button>

                                    </form>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <footer class="site-footer py-4">
            <div class="container">
              <div class="row">
                <div class="col-12 col-sm-6 text-center text-md-left">
                    <a class="text-decoration-none text-white" href="#">www.sortmycar.co.ke</a>
                </div>
                <div class="col-12 col-sm-6 text-center text-md-right">
                    <a class="text-decoration-none text-white" href="#">Terms </a> &
                    <a class="text-decoration-none text-white" href="#">Conditions</a> Apply
                </div>
              </div>
            </div>
        </footer>

    </div>

<script type="text/javascript" src="{% static '/js/jquery-3.6.0.min.js' %}"></script>
<script type="text/javascript" src="{% static '/js/popper.min.js' %}"></script>
<script type="text/javascript" src="{% static '/js/bootstrap.bundle.min.js' %}"></script>
<script type="text/javascript" src="{% static '/js/bootstrap.min.js' %}"></script>
<script type="text/javascript" src="{% static '/js/slim-icons.min' %}"></script>
<script type="text/javascript" src="{% static '/js/jquery-ui.js' %}"></script>
<script type="text/javascript" src="{% static '/js/justselect.min.js' %}"></script>
<script type="text/javascript" src="{% static '/js/owl.carousel.js' %}"></script>
<script type="text/javascript" src="{% static '/js/scripts.js' %}"></script>
<script type="text/javascript" src="{% static '/js/script10.js' %}"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"
      integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

<script>
       $(document).ready(function(){
        document.getElementById('startDate').value = moment().format('DD/MM/YYYY');

        $("#startDate").val(new Date().toJSON().slice(0,10));
        console.log(new Date().toJSON().slice(0,10));








       $(document).on('keyup input change','.krap',function(){
        var kraPIN={
                        val:/^([a-zA-Z][0-9]{9}[a-zA-Z])$/,
                    };
                    if($(this).attr('id')== "kraPIN")
                    {
                        if (kraPIN.val.test($(this).val())) {

                            $('.kraPIN').addClass('d-none');
                            $(".submitBtn").prop("disabled",false)
                        } else {

                            $('.kraPIN').removeClass('d-none');
                            $(".submitBtn").prop("disabled",true)

                        }
                    }
       });

         $(document).on('keyup change input','.inp',function (){


                var phonePatterns={
                    val: /^(254|0)((([7|2])([0|1|2|4|9|5])([0-9]{7}))|(76)([89]{1})([0-9]{6})|((110)|(111))([0-9]{6}))$/,
                };

                var emailPattern={
                    val:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
                };


                if($(this).attr('id')== "phoneNumber")
                {

                    if(phonePatterns.val.test($(this).val())){

                        $(".phoneNumber").addClass('d-none');
                        $(".submitBtn").prop("disabled",false)
                    }else {

                        $(".phoneNumber").removeClass('d-none');
                        $(".submitBtn").prop("disabled",true)
                    }
                }


                var name_pattern={
                    val:/^([a-zA-Z\s\'\.]{3,40})$/,
                };

                if($(this).attr('id')== "ownerNames")
                {

                    if($(this).val()=="" || !(name_pattern.val.test($(this).val()))){

                        $('.ownerNames').removeClass('d-none');
                        $(".submitBtn").prop("disabled",false)
                    }else {

                        $('.ownerNames').addClass('d-none');
                        $(".submitBtn").prop("disabled",true)

                    }
                }

                var benEmailPattern={
                    val:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
                };

                if($(this).attr('id')== "emailAddress")
                {
                    if (benEmailPattern.val.test($(this).val())) {
                        $('.emailAddress').addClass('d-none');
                        $(".submitBtn").prop("disabled",false)
                    } else {
                        $('.emailAddress').removeClass('d-none');
                        $(".submitBtn").prop("disabled",true)
                    }
                }

                 var regNum={
                        val:/^([\w\d]{5,8})$/,
                    };
                    if($(this).attr('id')== "regNum")
                    {
                        if (regNum.val.test($(this).val())) {

                            $('.regNum').addClass('d-none');
                            $(".submitBtn").prop("disabled",false)
                        } else {

                            $('.regNum').removeClass('d-none');
                            $(".submitBtn").prop("disabled",true)

                        }
                 }
         });

    });
</script>



</body>
</html>
